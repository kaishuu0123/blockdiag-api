(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(["\n      position: relative;\n    "],["\n      position: relative;\n    "]),o=d(["\n      &:before {\n        content: '';\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        z-index: 99;\n        border-radius: ","\n      }\n\n      display: ","\n    "],["\n      &:before {\n        content: '';\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        z-index: 99;\n        border-radius: ","\n      }\n\n      display: ","\n    "]),l=d(["\n      position: absolute;\n      text-align: center;\n      color: white;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      z-index: 99;\n    "],["\n      position: absolute;\n      text-align: center;\n      color: white;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      z-index: 99;\n    "]),i=s(n(1)),u=(s(n(4)),s(n(36)));n(32);var c=s(n(30));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e="none";this.props.active&&(e="block"),this.props.color&&this.props.color;var t=u.default.div(a),n=u.default.div(o,this.props.backgroundColor||"black",this.props.borderRadius,e),r=u.default.div(l),s=null;return this.props.text&&(s=i.default.createElement("div",null,this.props.text)),i.default.createElement(t,null,i.default.createElement(n,null,i.default.createElement(r,null,i.default.createElement(c.default,{type:"line-scale",active:!0,color:this.props.color}),s)),this.props.children)}}]),t}();t.default=f},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.diagrams={actdiag:'actdiag {\n    write -> convert -> image\n\n    lane user {\n        label = "User"\n        write [label = "Writing reST"];\n        image [label = "Get diagram IMAGE"];\n    }\n    lane actdiag {\n        convert [label = "Convert reST to Image"];\n    }\n}',blockdiag:"blockdiag {\n    A -> B;\n    B -> C;\n    B -> D;\n    B -> Z;\n    D -> E;\n}",nwdiag:'nwdiag {\n    network dmz {\n        address = "210.x.x.x/24"\n\n        web01 [address = "210.x.x.1"];\n        web02 [address = "210.x.x.2"];\n    }\n    network internal {\n        address = "172.x.x.x/24";\n\n        web01 [address = "172.x.x.1"];\n        web02 [address = "172.x.x.2"];\n        db01;\n        db02;\n    }\n}',packetdiag:"packetdiag {\n    colwidth = 32\n    node_height = 72\n\n    0-15: Source Port\n    16-31: Destination Port\n    32-63: Sequence Number\n    64-95: Acknowledgment Number\n    96-99: Data Offset\n    100-105: Reserved\n    106: URG [rotate = 270]\n    107: ACK [rotate = 270]\n    108: PSH [rotate = 270]\n    109: RST [rotate = 270]\n    110: SYN [rotate = 270]\n    111: FIN [rotate = 270]\n    112-127: Window\n    128-143: Checksum\n    144-159: Urgent Pointer\n    160-191: (Options and Padding)\n    192-223: data [colheight = 3]\n}",rackdiag:"rackdiag {\n    // define height of rack\n    8U;\n\n    // define rack items\n    1: UPS [2U];\n    3: DB Server\n    4: Web Server\n    5: Web Server\n    6: Web Server\n    7: Load Balancer\n    8: L3 Switch\n}",seqdiag:'seqdiag {\n    browser  -> webserver [label = "GET /index.html"];\n    browser <-- webserver;\n    browser  -> webserver [label = "POST /blog/comment"];\n                webserver  -> database [label = "INSERT comment"];\n                webserver <-- database;\n    browser <-- webserver;\n}'}},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),l=(r=o)&&r.__esModule?r:{default:r},i=n(9);var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),a(t,[{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(i.Navbar,{color:"dark",dark:!0},l.default.createElement(i.NavbarBrand,{href:"/"},"blockdiag Live Preview")))}}]),t}();t.default=u},79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(1)),o=p(n(78)),l=n(9),i=p(n(60)),u=p(n(47)),c=n(45);n(44),n(42),n(41),n(40);var s=p(n(39)),d=n(38),f=p(n(37));function p(e){return e&&e.__esModule?e:{default:e}}u.default.locale("ja"),u.default.locale("en");var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!1,diagramType:"blockdiag",source:"",svg:"<svg />",inputTimer:null,copyTimer:null,copied:!1},n.onTextChange=n.onTextChange.bind(n),n.onSelectChange=n.onSelectChange.bind(n),n.triggerChange=n.triggerChange.bind(n),n.onCopy=n.onCopy.bind(n),n.downloadSVG=n.downloadSVG.bind(n),n.onClickExample=n.onClickExample.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("source-input").clientWidth,t=document.getElementById("source-input").clientHeight,n=document.getElementById("preview-header").clientHeight;this.setState({imageWidth:e,imageHeight:t-n})}},{key:"onTextChange",value:function(e){clearTimeout(this.state.inputTimer),this.setState({source:e}),this.state.inputTimer=setTimeout(this.triggerChange,1e3),event.preventDefault()}},{key:"onSelectChange",value:function(e){clearTimeout(this.state.inputTimer),this.setState({diagramType:e.target.value}),this.state.inputTimer=setTimeout(this.triggerChange,1e3)}},{key:"onCopy",value:function(){var e=this;clearTimeout(this.state.copyTimer),this.setState({copied:!0}),this.state.copyTimer=setTimeout(function(){return e.setState({copied:!1})},3e3),event.preventDefault()}},{key:"triggerChange",value:function(){var e=this;this.setState({isError:!1,loading:!0,isRendererd:!1}),o.default.post("api/v1/"+this.state.diagramType,{source:this.state.source}).then(function(t){e.setState({loading:!1,isRendererd:!0,svg:t.data.image})}).catch(function(t){if(t.response){var n=t.response.data.etype,r=t.response.data.error;e.setState({loading:!1,isError:!0,errorType:n,errorMessage:r})}else console.log(t)})}},{key:"downloadSVG",value:function(){var e=document.querySelector("svg").outerHTML,t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n;var a=(0,u.default)().format("YYYY-MM-DD");r.download=a+"_blockdiag.svg",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},{key:"onClickExample",value:function(){this.setState({source:d.diagrams[this.state.diagramType]},this.triggerChange),event.preventDefault()}},{key:"render",value:function(){var e=this;return a.default.createElement("div",null,a.default.createElement(s.default,null),a.default.createElement(l.Container,{fluid:!0,className:"mt-2"},a.default.createElement(l.Row,null,a.default.createElement(l.Col,{md:"6"},a.default.createElement(l.Form,{id:"source-input"},a.default.createElement(l.FormGroup,null,a.default.createElement(l.Label,{for:"source",className:"mb-0 mr-2"},a.default.createElement("h4",null,"Source")),a.default.createElement(l.Button,{size:"sm",outline:!0,color:"secondary",onClick:this.onClickExample},a.default.createElement(i.default,{name:"light-bulb"})," See example (",this.state.diagramType,")"),a.default.createElement(c.Controlled,{className:"border rounded",value:this.state.source,options:{mode:{name:"javascript"},theme:"default",lineWrapping:!0,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:"indentMore","Shift-Tab":"indentLess"},lineNumbers:!0,indentUnit:4,smartIndent:!0,indentWithTabs:!1,placeholder:""},onBeforeChange:function(t,n,r){e.onTextChange(r)}})),a.default.createElement(l.FormGroup,null,a.default.createElement(l.Label,{for:"type"},a.default.createElement("h4",null,"Diagram type")),a.default.createElement(l.Input,{type:"select",name:"select",id:"diagram-type",value:this.state.diagramType,onChange:this.onSelectChange},Object.keys(d.diagrams).map(function(e){return a.default.createElement("option",{key:e},e)}))))),a.default.createElement(l.Col,{md:"6"},a.default.createElement(l.Form,null,a.default.createElement(l.FormGroup,null,a.default.createElement(l.Label,{id:"preview-header",for:"preview",className:"mb-0 mr-2"},a.default.createElement("h4",null,"Preview")),this.state.isRendererd?a.default.createElement(l.Button,{size:"sm",outline:!0,color:"info",onClick:this.downloadSVG},a.default.createElement(i.default,{name:"desktop-download"})," Download SVG"):null,a.default.createElement("style",null,"\n                                            svg {\n                                                width: "+this.state.imageWidth+"px;\n                                                height: "+this.state.imageHeight+"px;\n                                            }\n                                        "),a.default.createElement(f.default,{active:this.state.loading,color:"#0E6EB8",text:"Loading... Please wait!",borderRadius:"0.25em",backgroundColor:"rgba(0,0,0,0.8)"},this.state.isError?a.default.createElement(l.Alert,{color:"danger"},a.default.createElement("h5",{className:"alert-heading"},this.state.errorType),a.default.createElement("p",null,this.state.errorMessage)):a.default.createElement("div",{className:"border rounded text-md-center",dangerouslySetInnerHTML:{__html:this.state.svg}})))))),a.default.createElement("hr",null),a.default.createElement("footer",{className:"container-fluid"},a.default.createElement("a",{href:"https://github.com/kaishuu0123/blockdiag-api",target:"_blank"},a.default.createElement(i.default,{name:"mark-github"})," source code"),a.default.createElement("br",null),"© 2018 ",a.default.createElement("a",{href:"https://twitter.com/@kaishuu0123",target:"_blank"},"@kaishuu0123")," (Twitter)",a.default.createElement("br",null),"This work is based off ",a.default.createElement("a",{href:"http://blockdiag.com/",target:"_blank"},"blockdiag"),".")))}}]),t}();t.default=m},93:function(e,t,n){"use strict";var r=l(n(1)),a=l(n(4));n(84);n(9);var o=l(n(79));function l(e){return e&&e.__esModule?e:{default:e}}a.default.render(r.default.createElement(o.default,null),document.getElementById("index"))}},[[93,0,1]]]);